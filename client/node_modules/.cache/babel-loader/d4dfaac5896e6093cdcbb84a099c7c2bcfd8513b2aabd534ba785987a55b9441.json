{"ast":null,"code":"import axios from'axios';const API_URL='/api/bookings';// Assuming your backend routes are prefixed with /api\n// Create a new booking\nexport const createBooking=async(bookingData,token)=>{try{const config={headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}};const response=await axios.post(API_URL,bookingData,config);return response.data;}catch(error){var _error$response,_error$response$data,_error$response2;console.error('Error creating booking:',((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error;}};// Get bookings for a user\nexport const getUserBookings=async(userId,token)=>{try{const config={headers:{'Authorization':\"Bearer \".concat(token)}};// Assuming an endpoint like /api/bookings/user/:userId or a query param\nconst response=await axios.get(\"\".concat(API_URL,\"/user/\").concat(userId),config);return response.data;}catch(error){var _error$response3,_error$response3$data,_error$response4;console.error(\"Error fetching bookings for user \".concat(userId,\":\"),((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message);throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error;}};// Get bookings for a property (potentially for admin or property owner)\nexport const getPropertyBookings=async(propertyId,token)=>{try{const config={headers:{'Authorization':\"Bearer \".concat(token)}};const response=await axios.get(\"\".concat(API_URL,\"/property/\").concat(propertyId),config);return response.data;}catch(error){var _error$response5,_error$response5$data,_error$response6;console.error(\"Error fetching bookings for property \".concat(propertyId,\":\"),((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||error.message);throw((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.data)||error;}};// Cancel a booking\nexport const cancelBooking=async(bookingId,token)=>{try{const config={headers:{'Authorization':\"Bearer \".concat(token)}};// Assuming a DELETE request or a PUT/PATCH to update status\nconst response=await axios.patch(\"\".concat(API_URL,\"/\").concat(bookingId,\"/cancel\"),{},config);return response.data;}catch(error){var _error$response7,_error$response7$data,_error$response8;console.error(\"Error cancelling booking \".concat(bookingId,\":\"),((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||error.message);throw((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.data)||error;}};// Get a single booking by ID\nexport const getBookingById=async(bookingId,token)=>{try{const config={headers:{'Authorization':\"Bearer \".concat(token)}};const response=await axios.get(\"\".concat(API_URL,\"/\").concat(bookingId),config);return response.data;}catch(error){var _error$response9,_error$response9$data,_error$response0;console.error(\"Error fetching booking \".concat(bookingId,\":\"),((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||error.message);throw((_error$response0=error.response)===null||_error$response0===void 0?void 0:_error$response0.data)||error;}};// Update booking status (e.g., admin confirming a booking)\nexport const updateBookingStatus=async(bookingId,status,token)=>{try{const config={headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}};const response=await axios.patch(\"\".concat(API_URL,\"/\").concat(bookingId,\"/status\"),{status},config);return response.data;}catch(error){var _error$response1,_error$response1$data,_error$response10;console.error(\"Error updating status for booking \".concat(bookingId,\":\"),((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.message)||error.message);throw((_error$response10=error.response)===null||_error$response10===void 0?void 0:_error$response10.data)||error;}};","map":{"version":3,"names":["axios","API_URL","createBooking","bookingData","token","config","headers","concat","response","post","data","error","_error$response","_error$response$data","_error$response2","console","message","getUserBookings","userId","get","_error$response3","_error$response3$data","_error$response4","getPropertyBookings","propertyId","_error$response5","_error$response5$data","_error$response6","cancelBooking","bookingId","patch","_error$response7","_error$response7$data","_error$response8","getBookingById","_error$response9","_error$response9$data","_error$response0","updateBookingStatus","status","_error$response1","_error$response1$data","_error$response10"],"sources":["C:/Users/dhira/OneDrive/Desktop/other/final house rental website/home-rental-app/client/src/api/booking.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = '/api/bookings'; // Assuming your backend routes are prefixed with /api\r\n\r\n// Create a new booking\r\nexport const createBooking = async (bookingData, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await axios.post(API_URL, bookingData, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error creating booking:', error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n\r\n// Get bookings for a user\r\nexport const getUserBookings = async (userId, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    // Assuming an endpoint like /api/bookings/user/:userId or a query param\r\n    const response = await axios.get(`${API_URL}/user/${userId}`, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching bookings for user ${userId}:`, error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n\r\n// Get bookings for a property (potentially for admin or property owner)\r\nexport const getPropertyBookings = async (propertyId, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await axios.get(`${API_URL}/property/${propertyId}`, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching bookings for property ${propertyId}:`, error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n\r\n\r\n// Cancel a booking\r\nexport const cancelBooking = async (bookingId, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    // Assuming a DELETE request or a PUT/PATCH to update status\r\n    const response = await axios.patch(`${API_URL}/${bookingId}/cancel`, {}, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error cancelling booking ${bookingId}:`, error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n\r\n// Get a single booking by ID\r\nexport const getBookingById = async (bookingId, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await axios.get(`${API_URL}/${bookingId}`, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching booking ${bookingId}:`, error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n\r\n// Update booking status (e.g., admin confirming a booking)\r\nexport const updateBookingStatus = async (bookingId, status, token) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await axios.patch(`${API_URL}/${bookingId}/status`, { status }, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error updating status for booking ${bookingId}:`, error.response?.data?.message || error.message);\r\n    throw error.response?.data || error;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}