{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{getPropertyById}from'../api/property';import{getPropertyReviews,addReview}from'../api/review';import{createBooking}from'../api/booking';import ReviewList from'../components/ReviewList';import BookingCalendar from'../components/BookingCalendar';// Placeholder for image carousel or gallery if you have multiple images\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageGallery=_ref=>{let{images}=_ref;if(!images||images.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 h-64 w-full flex items-center justify-center text-gray-500 rounded\",children:\"No Image Available\"});}// Simple single image display for now, extend as needed\nreturn/*#__PURE__*/_jsx(\"img\",{src:images[0].url||'https://via.placeholder.com/800x400?text=Property+Image',alt:\"Property\",className:\"w-full h-auto object-cover rounded-lg shadow-lg mb-6\"});};const PropertyDetailPage=()=>{var _property$location,_property$location2,_property$owner,_property$owner2,_property$owner3;const{propertyId}=useParams();const{user,token,isAuthenticated}=useAuth();const navigate=useNavigate();const[property,setProperty]=useState(null);const[reviews,setReviews]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');// For new review\nconst[rating,setRating]=useState(0);const[comment,setComment]=useState('');const[reviewError,setReviewError]=useState('');const[reviewLoading,setReviewLoading]=useState(false);// For booking\nconst[selectedDates,setSelectedDates]=useState({startDate:null,endDate:null});const[bookingError,setBookingError]=useState('');const[bookingLoading,setBookingLoading]=useState(false);const[bookingSuccess,setBookingSuccess]=useState(false);useEffect(()=>{const fetchPropertyAndReviews=async()=>{setLoading(true);setError('');try{const propertyData=await getPropertyById(propertyId);setProperty(propertyData);const reviewsData=await getPropertyReviews(propertyId);setReviews(reviewsData||[]);}catch(err){console.error('Failed to fetch property details or reviews:',err);setError(err.message||'Could not load property details.');}setLoading(false);};if(propertyId){fetchPropertyAndReviews();}},[propertyId]);const handleReviewSubmit=async e=>{e.preventDefault();if(!isAuthenticated){setReviewError('Please log in to submit a review.');return;}if(rating===0||!comment.trim()){setReviewError('Please provide a rating and a comment.');return;}setReviewLoading(true);setReviewError('');try{const newReview=await addReview(propertyId,{rating,comment},token);setReviews([newReview,...reviews]);// Add new review to the top\nsetRating(0);setComment('');}catch(err){console.error('Failed to submit review:',err);setReviewError(err.message||'Could not submit review.');}setReviewLoading(false);};const handleDateSelect=date=>{// This is a simplified date selection for a single date.\n// For a range, BookingCalendar would need to handle `select` event and pass startDate & endDate.\n// For now, let's assume we are selecting a start date and booking for a fixed number of nights or user inputs end date.\n// This needs to be more robust for actual start/end date selection.\nconsole.log('Date selected:',date);setSelectedDates({startDate:date,endDate:null});// Placeholder, adapt based on BookingCalendar\nsetBookingError('');setBookingSuccess(false);};const handleBookingSubmit=async()=>{if(!isAuthenticated){setBookingError('Please log in to book this property.');return;}if(!selectedDates.startDate){// Add check for endDate if using range\nsetBookingError('Please select a booking date/range.');return;}setBookingLoading(true);setBookingError('');setBookingSuccess(false);// Example: Assume booking for 3 nights from startDate for simplicity\n// In a real app, you'd get both startDate and endDate from BookingCalendar or separate inputs\nconst bookingStartDate=new Date(selectedDates.startDate);const bookingEndDate=new Date(bookingStartDate);bookingEndDate.setDate(bookingStartDate.getDate()+3);// Booking for 3 nights\nconst bookingData={property:propertyId,user:user._id,// from AuthContext\nstartDate:bookingStartDate.toISOString().split('T')[0],endDate:bookingEndDate.toISOString().split('T')[0],totalPrice:property.pricePerNight*3// Calculate based on selected range and price\n};try{await createBooking(bookingData,token);setBookingSuccess(true);setSelectedDates({startDate:null,endDate:null});// Optionally, refetch property data if bookings affect availability display\n}catch(err){console.error('Failed to create booking:',err);setBookingError(err.message||'Could not complete booking. The property might not be available for the selected dates.');}setBookingLoading(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-4 text-center\",children:\"Loading property details...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 text-center text-red-500\",children:[\"Error: \",error]});}if(!property){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-4 text-center\",children:\"Property not found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-indigo-600 hover:text-indigo-800 mb-4 inline-block\",children:\"\\u2190 Back to listings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-xl rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(ImageGallery,{images:property.images}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 md:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-gray-800 mb-2\",children:property.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-lg mb-4\",children:[(_property$location=property.location)===null||_property$location===void 0?void 0:_property$location.city,\", \",(_property$location2=property.location)===null||_property$location2===void 0?void 0:_property$location2.country]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 pb-6 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-3\",children:\"About this property\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-line\",children:property.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Type:\"}),\" \",property.type]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Price:\"}),\" $\",property.pricePerNight,\"/night\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Bedrooms:\"}),\" \",property.bedrooms]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Bathrooms:\"}),\" \",property.bathrooms]}),property.guests&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Max Guests:\"}),\" \",property.guests]})]})]}),property.amenities&&property.amenities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 pb-6 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-3\",children:\"Amenities\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside grid grid-cols-2 md:grid-cols-3 gap-2 text-gray-700\",children:property.amenities.map(amenity=>/*#__PURE__*/_jsx(\"li\",{children:amenity},amenity))})]}),isAuthenticated&&((_property$owner=property.owner)===null||_property$owner===void 0?void 0:_property$owner._id)!==(user===null||user===void 0?void 0:user._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-6 bg-gray-50 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-4\",children:\"Book this Property\"}),/*#__PURE__*/_jsx(BookingCalendar// existingBookings={property.bookings} // Pass existing bookings to disable dates\n,{onDateSelect:handleDateSelect}),selectedDates.startDate&&/*#__PURE__*/_jsxs(\"p\",{className:\"my-2\",children:[\"Selected start date: \",new Date(selectedDates.startDate).toLocaleDateString()]})// Add display for end date if range selection is implemented\n,bookingError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-2\",children:bookingError}),bookingSuccess&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500 text-sm mt-2\",children:\"Booking successful! Check your dashboard.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBookingSubmit,disabled:bookingLoading||!selectedDates.startDate,className:\"mt-4 w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\",children:bookingLoading?'Processing Booking...':'Request to Book'})]}),!isAuthenticated&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-6 bg-gray-100 rounded-lg text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/login?redirect=/properties/\".concat(propertyId),className:\"text-indigo-600 hover:underline\",children:\"login\"}),\" or \",/*#__PURE__*/_jsx(Link,{to:\"/register?redirect=/properties/\".concat(propertyId),className:\"text-indigo-600 hover:underline\",children:\"register\"}),\" to book this property or leave a review.\"]})}),isAuthenticated&&((_property$owner2=property.owner)===null||_property$owner2===void 0?void 0:_property$owner2._id)===(user===null||user===void 0?void 0:user._id)&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-blue-100 text-blue-700 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"This is your property. You cannot book it. \",/*#__PURE__*/_jsx(Link,{to:\"/listings/edit/\".concat(propertyId),className:\"font-semibold hover:underline\",children:\"Edit Listing\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-4\",children:[\"Reviews (\",reviews.length,\")\"]}),isAuthenticated&&((_property$owner3=property.owner)===null||_property$owner3===void 0?void 0:_property$owner3._id)!==(user===null||user===void 0?void 0:user._id)&&/*#__PURE__*//* Check if user has already reviewed? */_jsxs(\"form\",{onSubmit:handleReviewSubmit,className:\"mb-6 p-4 bg-gray-50 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Leave a Review\"}),reviewError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mb-2\",children:reviewError}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rating\",className:\"block text-sm font-medium text-gray-700\",children:\"Rating (1-5)\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"rating\",value:rating,onChange:e=>setRating(Number(e.target.value)),className:\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",disabled:true,children:\"Select a rating\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1 - Poor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2 - Fair\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3 - Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4 - Very Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5 - Excellent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",className:\"block text-sm font-medium text-gray-700\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"comment\",rows:\"3\",value:comment,onChange:e=>setComment(e.target.value),className:\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Share your experience...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:reviewLoading,className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\",children:reviewLoading?'Submitting...':'Submit Review'})]}),/*#__PURE__*/_jsx(ReviewList,{reviews:reviews}),reviews.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No reviews yet for this property.\"})]}),property.owner&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-6 border-t\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-2\",children:[\"Hosted by \",property.owner.name]})})]})]})]});};export default PropertyDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","Link","useNavigate","useAuth","getPropertyById","getPropertyReviews","addReview","createBooking","ReviewList","BookingCalendar","jsx","_jsx","jsxs","_jsxs","ImageGallery","_ref","images","length","className","children","src","url","alt","PropertyDetailPage","_property$location","_property$location2","_property$owner","_property$owner2","_property$owner3","propertyId","user","token","isAuthenticated","navigate","property","setProperty","reviews","setReviews","loading","setLoading","error","setError","rating","setRating","comment","setComment","reviewError","setReviewError","reviewLoading","setReviewLoading","selectedDates","setSelectedDates","startDate","endDate","bookingError","setBookingError","bookingLoading","setBookingLoading","bookingSuccess","setBookingSuccess","fetchPropertyAndReviews","propertyData","reviewsData","err","console","message","handleReviewSubmit","e","preventDefault","trim","newReview","handleDateSelect","date","log","handleBookingSubmit","bookingStartDate","Date","bookingEndDate","setDate","getDate","bookingData","_id","toISOString","split","totalPrice","pricePerNight","to","title","location","city","country","description","type","bedrooms","bathrooms","guests","amenities","map","amenity","owner","onDateSelect","toLocaleDateString","onClick","disabled","concat","onSubmit","htmlFor","id","value","onChange","Number","target","rows","placeholder","name"],"sources":["C:/Users/dhira/OneDrive/Desktop/other/final house rental website/home-rental-app/client/src/pages/PropertyDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { getPropertyById } from '../api/property';\r\nimport { getPropertyReviews, addReview } from '../api/review';\r\nimport { createBooking } from '../api/booking';\r\nimport ReviewList from '../components/ReviewList';\r\nimport BookingCalendar from '../components/BookingCalendar';\r\n\r\n// Placeholder for image carousel or gallery if you have multiple images\r\nconst ImageGallery = ({ images }) => {\r\n  if (!images || images.length === 0) {\r\n    return <div className=\"bg-gray-200 h-64 w-full flex items-center justify-center text-gray-500 rounded\">No Image Available</div>;\r\n  }\r\n  // Simple single image display for now, extend as needed\r\n  return <img src={images[0].url || 'https://via.placeholder.com/800x400?text=Property+Image'} alt=\"Property\" className=\"w-full h-auto object-cover rounded-lg shadow-lg mb-6\" />;\r\n};\r\n\r\nconst PropertyDetailPage = () => {\r\n  const { propertyId } = useParams();\r\n  const { user, token, isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const [property, setProperty] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // For new review\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [reviewError, setReviewError] = useState('');\r\n  const [reviewLoading, setReviewLoading] = useState(false);\r\n\r\n  // For booking\r\n  const [selectedDates, setSelectedDates] = useState({ startDate: null, endDate: null });\r\n  const [bookingError, setBookingError] = useState('');\r\n  const [bookingLoading, setBookingLoading] = useState(false);\r\n  const [bookingSuccess, setBookingSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchPropertyAndReviews = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const propertyData = await getPropertyById(propertyId);\r\n        setProperty(propertyData);\r\n        const reviewsData = await getPropertyReviews(propertyId);\r\n        setReviews(reviewsData || []);\r\n      } catch (err) {\r\n        console.error('Failed to fetch property details or reviews:', err);\r\n        setError(err.message || 'Could not load property details.');\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    if (propertyId) {\r\n      fetchPropertyAndReviews();\r\n    }\r\n  }, [propertyId]);\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!isAuthenticated) {\r\n      setReviewError('Please log in to submit a review.');\r\n      return;\r\n    }\r\n    if (rating === 0 || !comment.trim()) {\r\n      setReviewError('Please provide a rating and a comment.');\r\n      return;\r\n    }\r\n    setReviewLoading(true);\r\n    setReviewError('');\r\n    try {\r\n      const newReview = await addReview(propertyId, { rating, comment }, token);\r\n      setReviews([newReview, ...reviews]); // Add new review to the top\r\n      setRating(0);\r\n      setComment('');\r\n    } catch (err) {\r\n      console.error('Failed to submit review:', err);\r\n      setReviewError(err.message || 'Could not submit review.');\r\n    }\r\n    setReviewLoading(false);\r\n  };\r\n\r\n  const handleDateSelect = (date) => {\r\n    // This is a simplified date selection for a single date.\r\n    // For a range, BookingCalendar would need to handle `select` event and pass startDate & endDate.\r\n    // For now, let's assume we are selecting a start date and booking for a fixed number of nights or user inputs end date.\r\n    // This needs to be more robust for actual start/end date selection.\r\n    console.log('Date selected:', date);\r\n    setSelectedDates({ startDate: date, endDate: null }); // Placeholder, adapt based on BookingCalendar\r\n    setBookingError('');\r\n    setBookingSuccess(false);\r\n  };\r\n\r\n  const handleBookingSubmit = async () => {\r\n    if (!isAuthenticated) {\r\n      setBookingError('Please log in to book this property.');\r\n      return;\r\n    }\r\n    if (!selectedDates.startDate) { // Add check for endDate if using range\r\n      setBookingError('Please select a booking date/range.');\r\n      return;\r\n    }\r\n    setBookingLoading(true);\r\n    setBookingError('');\r\n    setBookingSuccess(false);\r\n\r\n    // Example: Assume booking for 3 nights from startDate for simplicity\r\n    // In a real app, you'd get both startDate and endDate from BookingCalendar or separate inputs\r\n    const bookingStartDate = new Date(selectedDates.startDate);\r\n    const bookingEndDate = new Date(bookingStartDate);\r\n    bookingEndDate.setDate(bookingStartDate.getDate() + 3); // Booking for 3 nights\r\n\r\n    const bookingData = {\r\n      property: propertyId,\r\n      user: user._id, // from AuthContext\r\n      startDate: bookingStartDate.toISOString().split('T')[0],\r\n      endDate: bookingEndDate.toISOString().split('T')[0],\r\n      totalPrice: property.pricePerNight * 3, // Calculate based on selected range and price\r\n    };\r\n\r\n    try {\r\n      await createBooking(bookingData, token);\r\n      setBookingSuccess(true);\r\n      setSelectedDates({ startDate: null, endDate: null });\r\n      // Optionally, refetch property data if bookings affect availability display\r\n    } catch (err) {\r\n      console.error('Failed to create booking:', err);\r\n      setBookingError(err.message || 'Could not complete booking. The property might not be available for the selected dates.');\r\n    }\r\n    setBookingLoading(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"container mx-auto p-4 text-center\">Loading property details...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"container mx-auto p-4 text-center text-red-500\">Error: {error}</div>;\r\n  }\r\n\r\n  if (!property) {\r\n    return <div className=\"container mx-auto p-4 text-center\">Property not found.</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <Link to=\"/\" className=\"text-indigo-600 hover:text-indigo-800 mb-4 inline-block\">&larr; Back to listings</Link>\r\n      \r\n      <div className=\"bg-white shadow-xl rounded-lg overflow-hidden\">\r\n        <ImageGallery images={property.images} />\r\n        \r\n        <div className=\"p-6 md:p-8\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-800 mb-2\">{property.title}</h1>\r\n          <p className=\"text-gray-600 text-lg mb-4\">{property.location?.city}, {property.location?.country}</p>\r\n          \r\n          <div className=\"mb-6 pb-6 border-b\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-700 mb-3\">About this property</h2>\r\n            <p className=\"text-gray-700 whitespace-pre-line\">{property.description}</p>\r\n            <div className=\"mt-4 grid grid-cols-2 gap-4\">\r\n              <div><span className=\"font-semibold\">Type:</span> {property.type}</div>\r\n              <div><span className=\"font-semibold\">Price:</span> ${property.pricePerNight}/night</div>\r\n              <div><span className=\"font-semibold\">Bedrooms:</span> {property.bedrooms}</div>\r\n              <div><span className=\"font-semibold\">Bathrooms:</span> {property.bathrooms}</div>\r\n              {property.guests && <div><span className=\"font-semibold\">Max Guests:</span> {property.guests}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          {property.amenities && property.amenities.length > 0 && (\r\n            <div className=\"mb-6 pb-6 border-b\">\r\n              <h2 className=\"text-2xl font-semibold text-gray-700 mb-3\">Amenities</h2>\r\n              <ul className=\"list-disc list-inside grid grid-cols-2 md:grid-cols-3 gap-2 text-gray-700\">\r\n                {property.amenities.map(amenity => <li key={amenity}>{amenity}</li>)}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Booking Section */}\r\n          {isAuthenticated && property.owner?._id !== user?._id && (\r\n            <div className=\"mb-6 p-6 bg-gray-50 rounded-lg shadow\">\r\n              <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">Book this Property</h2>\r\n              <BookingCalendar \r\n                // existingBookings={property.bookings} // Pass existing bookings to disable dates\r\n                onDateSelect={handleDateSelect} \r\n              />\r\n              {selectedDates.startDate && (\r\n                <p className=\"my-2\">Selected start date: {new Date(selectedDates.startDate).toLocaleDateString()}</p>\r\n                // Add display for end date if range selection is implemented\r\n              )}\r\n              {bookingError && <p className=\"text-red-500 text-sm mt-2\">{bookingError}</p>}\r\n              {bookingSuccess && <p className=\"text-green-500 text-sm mt-2\">Booking successful! Check your dashboard.</p>}\r\n              <button \r\n                onClick={handleBookingSubmit} \r\n                disabled={bookingLoading || !selectedDates.startDate}\r\n                className=\"mt-4 w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\"\r\n              >\r\n                {bookingLoading ? 'Processing Booking...' : 'Request to Book'}\r\n              </button>\r\n            </div>\r\n          )}\r\n          {!isAuthenticated && (\r\n             <div className=\"mb-6 p-6 bg-gray-100 rounded-lg text-center\">\r\n                <p className=\"text-gray-700\">Please <Link to={`/login?redirect=/properties/${propertyId}`} className=\"text-indigo-600 hover:underline\">login</Link> or <Link to={`/register?redirect=/properties/${propertyId}`} className=\"text-indigo-600 hover:underline\">register</Link> to book this property or leave a review.</p>\r\n            </div>\r\n          )}\r\n          {isAuthenticated && property.owner?._id === user?._id && (\r\n            <div className=\"mb-6 p-4 bg-blue-100 text-blue-700 rounded-lg\">\r\n              <p>This is your property. You cannot book it. <Link to={`/listings/edit/${propertyId}`} className=\"font-semibold hover:underline\">Edit Listing</Link></p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Reviews Section */}\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">Reviews ({reviews.length})</h2>\r\n            {isAuthenticated && property.owner?._id !== user?._id && /* Check if user has already reviewed? */ (\r\n              <form onSubmit={handleReviewSubmit} className=\"mb-6 p-4 bg-gray-50 rounded-lg shadow\">\r\n                <h3 className=\"text-xl font-semibold mb-2\">Leave a Review</h3>\r\n                {reviewError && <p className=\"text-red-500 text-sm mb-2\">{reviewError}</p>}\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"rating\" className=\"block text-sm font-medium text-gray-700\">Rating (1-5)</label>\r\n                  <select \r\n                    id=\"rating\" \r\n                    value={rating} \r\n                    onChange={(e) => setRating(Number(e.target.value))} \r\n                    className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                  >\r\n                    <option value=\"0\" disabled>Select a rating</option>\r\n                    <option value=\"1\">1 - Poor</option>\r\n                    <option value=\"2\">2 - Fair</option>\r\n                    <option value=\"3\">3 - Good</option>\r\n                    <option value=\"4\">4 - Very Good</option>\r\n                    <option value=\"5\">5 - Excellent</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"comment\" className=\"block text-sm font-medium text-gray-700\">Comment</label>\r\n                  <textarea \r\n                    id=\"comment\" \r\n                    rows=\"3\" \r\n                    value={comment} \r\n                    onChange={(e) => setComment(e.target.value)} \r\n                    className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    placeholder=\"Share your experience...\"\r\n                  ></textarea>\r\n                </div>\r\n                <button \r\n                  type=\"submit\" \r\n                  disabled={reviewLoading}\r\n                  className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\"\r\n                >\r\n                  {reviewLoading ? 'Submitting...' : 'Submit Review'}\r\n                </button>\r\n              </form>\r\n            )}\r\n            <ReviewList reviews={reviews} />\r\n            {reviews.length === 0 && <p className=\"text-gray-600\">No reviews yet for this property.</p>}\r\n          </div>\r\n\r\n          {/* Property Owner Info - Basic */}\r\n          {property.owner && (\r\n            <div className=\"pt-6 border-t\">\r\n              <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Hosted by {property.owner.name}</h2>\r\n              {/* Add more owner details or link to owner profile if available */}\r\n              {/* <p className=\"text-gray-600\">Member since {new Date(property.owner.createdAt).toLocaleDateString()}</p> */}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PropertyDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}